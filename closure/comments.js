function f(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function h(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:f(a)}}function l(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}var n="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},p;
if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var t;a:{var w={g:!0},x={};try{x.__proto__=w;t=x.g;break a}catch(a){}t=!1}p=t?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var y=p,B=preact,C=B.h,D=B.Component,G=B.render;function H(a){var b=void 0===b?{}:b;var c=window.top,g=c.outerHeight,k=c.screenY,e=[];e.push("width=500","left="+(c.outerWidth/2+c.screenX-250));e.push("top="+(g/2+k-305-50),"height=610");c=Object.keys(b).map(function(m){return m+"="+b[m]});e.push.apply(e,c instanceof Array?c:l(h(c)));window.open(a,"Sign In",e.join(","))};var I=".LinkedInButton {\n  background: #0077B5;\n  display: table;\n  border-radius: 3px;\n  font-family: Helvetica Neue,Helvetica,Arial,sans-serif;\n  text-decoration: none;\n  color: white;\n  cursor: pointer;\n}\n.LinkedInButton .LinkedInIn {\n  font-family: 'Myriad Pro', 'Gill Sans', 'Gill Sans MT', Calibri, sans-serif;\n  padding-left: 6px;\n  padding-right: 5px;\n  border-right: 1px solid #0369A0;\n  border-radius: 3px;\n  font-weight: 600;\n  background: #0077B5;\n  display: table-cell;\n  vertical-align: middle;\n}\n.LinkedInButton .LinkedInText {\n  padding-left: .5em;\n  padding-right: .5em;\n  font-size: smaller;\n  display: table-cell;\n  vertical-align: middle;\n}";
I=void 0===I?"":I;var J=document.head,K=document.createElement("style");K.type="text/css";K.styleSheet?K.styleSheet.cssText=I:K.appendChild(document.createTextNode(I));J.appendChild(K);function L(a){var b=void 0===a.size?"medium":a.size,c=a.host,g=void 0===a.l?"/linkedin":a.l,k;"medium"==b?k=1.5:"large"==b&&(k=2);return C("a",{onClick:function(e){e.preventDefault();H(""+c+g);return!1},onMouseOver:function(e){e.currentTarget.style.background="#0369A0"},onMouseOut:function(e){e.currentTarget.style.background="#0077B5"},className:"LinkedInButton"},C("div",{style:"font-size:"+k+"rem;",className:"LinkedInIn"},"in"),C("div",{className:"LinkedInText"},"Sign In With LinkedIn"))};function M(a,b,c){function g(){var E=[],F=[],u={},z;d.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(v,q,A){E.push(q=q.toLowerCase());F.push([q,A]);z=u[q];u[q]=z?z+","+A:A});return{ok:2==(d.status/100|0),status:d.status,statusText:d.statusText,url:d.responseURL,clone:g,text:function(){return d.responseText},json:function(){return JSON.parse(d.responseText)},blob:function(){return new Blob([d.response])},headers:{keys:function(){return E},entries:function(){return F},get:function(v){return u[v.toLowerCase()]},
has:function(v){return v.toLowerCase()in u}}}}c=void 0===c?{}:c;var k=void 0===c.headers?{}:c.headers,e=c.credentials,m=void 0===c.body?null:c.body,d=new XMLHttpRequest;d.open(void 0===c.method?"get":c.method,a,!0);for(var r in k)d.setRequestHeader(r,k[r]);d.withCredentials="include"==e;d.onload=function(){b(null,g())};d.onerror=function(){b("Could not load the resource at "+a+".")};d.send(m)};function N(a,b,c){M(a+"/signout",function(g,k){if(g)return c(g.message);g=k.json().error;c(g)},{method:"POST",headers:{m:"application/json","Content-Type":"application/json"},body:JSON.stringify({csrf:b}),credentials:"include"})}
function O(a){var b=a.user,c=b.firstName,g=b.lastName,k=a.csrf,e=void 0===a.f?function(){}:a.f,m=a.host;return C("div",{},C("img",{src:b.profilePicture,width:"50"}),"Hello, ",c," ",g,"!",C("a",{onClick:function(d){d.preventDefault();N(m,k,function(r){r?alert("Could not sign out: "+r+". Please refresh the page and try again. Alternatively, clear your cookies."):e()});return!1},href:"#"},"Sign Out"))};function P(){var a=D.call(this)||this;a.state={c:!0,error:null,a:{}};a.b=a.i.bind(a);window.addEventListener("message",a.b,!1);return a}P.prototype=n(D.prototype);P.prototype.constructor=P;if(y)y(P,D);else for(var Q in D)if("prototype"!=Q)if(Object.defineProperties){var R=Object.getOwnPropertyDescriptor(D,Q);R&&Object.defineProperty(P,Q,R)}else P[Q]=D[Q];P.b=D.prototype;P.prototype.componentDidMount=function(){this.a()};
P.prototype.a=function(){var a=this;this.setState({c:!0});M(this.props.host+"/user",function(b,c){a.setState({c:!1});if(b)return a.setState({error:b});b=c.json();a.setState({a:b})},{credentials:"include"})};P.prototype.i=function(a){a.origin==this.props.host&&"linkedin-signedin"==a.data&&this.a()};P.prototype.componentWillUnmount=function(){window.removeEventListener("message",this.b)};
P.prototype.render=function(){var a=this;return this.state.error?C("div",{},"Error: ",this.state.error):this.state.c?C("div",{},"Loading..."):this.state.a.user?C("div",{},C(O,Object.assign({},this.state.a,{f:function(){a.setState({a:{}})},host:this.props.host}))):C("div",{},C(L,{host:this.props.host}))};window.comments=function(a){var b=void 0===a.j?"preact":a.j;G(C(P,{host:void 0===a.host?"https://api.technation.sucks":a.host}),document.getElementById(b))};

//# sourceMappingURL=comments.js.map